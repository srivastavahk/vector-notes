# Notes Management API ðŸš€

A scalable and secure backend for a notes management application built with FastAPI, Supabase, Qdrant, and ~~Google Gemini~~ Jina AI.

## Features âœ¨

- **User Management**: Secure authentication via Supabase.
- **CRUD Operations**: Full Create, Read, Update, Delete for user notes.
- **Semantic Search**: Natural language query to find notes.
- **AI-Powered**: Embeddings and titles generated by ~~Google Gemini~~ Jina AI.
- **Secure**: Row Level Security ensures users only access their own data.
- **Asynchronous**: Built with `async/await` for high performance.
- **Scalable**: Designed for serverless deployment on Vercel.

## Local Setup

1.  **Prerequisites**:
    - Python 3.9+
    - Supabase, Qdrant, and ~~Google~~ Jina AI accounts.

2.  **Clone the repository**:
    ```bash
    git clone <your-repo-url>
    cd notes-app-backend
    ```

3.  **Create a virtual environment and install dependencies**:
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows: venv\Scripts\activate
    pip install -r requirements.txt
    ```

4.  **Set up environment variables**:
    - Copy `.env.example` to a new file named `.env`.
    - Fill in the values you obtained from Supabase, Qdrant, and ~~Google AI~~ Jina AI.

5.  **Run the application**:
    ```bash
    uvicorn app.main:app --reload
    ```
    The API will be available at `http://127.0.0.1:8000`.
    Interactive documentation (Swagger UI) is at `http://127.0.0.1:8000/docs`.

## API Usage

All protected endpoints require an `Authorization` header with a Bearer token (JWT from Supabase).

- **`POST /notes/`**: Create a note.
- **`GET /notes/`**: List all your notes.
- **`GET /notes/search?q=...`**: Search your notes.
- **`GET /notes/{note_id}`**: Get a specific note.
- **`PUT /notes/{note_id}`**: Update a note.
- **`DELETE /notes/{note_id}`**: Delete a note.

## Extensibility

This backend is designed for easy extension:
- **Change Vector DB**: Implement a new class in `app/services/vector_db.py` that conforms to the `VectorDBService` structure and update the dependency in `app/api/deps.py`.
- **Change Embedding Provider**: Update the logic in `app/services/ai_services.py`.
- **Add RAG Pipeline**: The existing semantic search is the "Retrieve" step of RAG. You can extend the search endpoint to pass the retrieved notes' content to a language model for the "Generate" step.
